package SensorUnit
public
	
	device sensor
		features
			sensor_data: out data port;
	end sensor;
	
	device implementation sensor.temperature
	end sensor.temperature;
	
	device implementation sensor.humidity
	end sensor.humidity;
	
	device implementation sensor.co
	end sensor.co;
	
	device implementation sensor.co2
	end sensor.co2;
	
	process control
		features
			temperature_data: in data port;
			humidity_data: in data port;
			co_data: in data port;
			co2_data: in data port;
			aggregated_data: out data port;
	end control;
	
	process implementation control.sensor_data
	end control.sensor_data;
	
	bus network
		features
			input_data: in data port;
			output_data: out data port;
		properties
			Transmission_Time => [ Fixed => 10 ms .. 30ms;
	                               PerByte => 1 us .. 10 us; ];
			Latency => 10 ms .. 100 ms;
	end network;
	
	bus implementation network.zigbee
		properties
			Transmission_Time => [ Fixed => 10 ms .. 30ms;
	                               PerByte => 1 us .. 10 us; ];
			Latency => 10 ms .. 100 ms;
			Bandwidth => 250KBpSec;
	end network.zigbee;
	
	system SensorUnit
		features
			output_data: out data port;
	end SensorUnit;
	
	system implementation SensorUnit.fire_detector
		subcomponents
			temperature_sensor: device sensor.temperature;
			humidity_sensor: device sensor.humidity;
			co_sensor: device sensor.co;
			co2_sensor: device sensor.co2;
			controller: process control.sensor_data;
			network_interface: bus network.zigbee;
		connections
			DC1: port temperature_sensor.sensor_data ->
				 controller.temperature_data;
			DC2: port humidity_sensor.sensor_data ->
				 controller.humidity_data;
			DC3: port co_sensor.sensor_data ->
				 controller.co_data;
			DC4: port co2_sensor.sensor_data ->
				 controller.co2_data;
			DC5: port controller.aggregated_data ->
				 network_interface.input_data;
	end SensorUnit.fire_detector;
	
end SensorUnit;